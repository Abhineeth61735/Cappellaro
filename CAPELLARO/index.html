<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Capellaro</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f5f5f5; padding: 20px; }
    .container { max-width:700px; margin:auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
    h2 { margin-top:20px }
    select, button, input[type=file] { width:100%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #ccc; font-size:15px; box-sizing:border-box }
    button { background:#0077ff; color:#fff; border:none; cursor:pointer }
    button:hover { background:#005dd1 }
    .result-box { background:#eef4ff; padding:14px; border-radius:8px; margin-top:12px; display:none }
    .preview { display:block; max-width:160px; max-height:160px; margin-top:8px; border-radius:8px; object-fit:cover; border:1px solid #ddd }
    label{display:block}
  </style>
</head>
<body>
  <div class="container">
    <img src="A_logo_design_displayed_in_the_digital_image_prese.png" 
     alt="Capellaro Logo"
     style="max-width:350px; display:block; margin:0 auto 25px;">
     <h1>Face & Hair Diagnosis (For Men & Women)</h1>

    <label for="gender">I am:</label>
    <select id="gender">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>

    <p>Choose answers below and get hairstyle recommendations.</p>

    <h2>STEP 1 — Face Shape</h2>
    <label for="faceShape">Select your face shape:</label>
    <select id="faceShape">
      <option value="oval">Oval</option>
      <option value="round">Round</option>
      <option value="square">Square</option>
      <option value="rectangular">Rectangular / Oblong</option>
      <option value="heart">Heart</option>
      <option value="diamond">Diamond</option>
    </select>

    <label for="photoUpload">Upload your photo (optional):</label>
    <input type="file" id="photoUpload" accept="image/*">
    <img id="photoPreview" class="preview" alt="photo preview" style="display:none">
    <input type="hidden" id="samplePath" value="/mnt/data/WIN_20250709_21_12_58_Pro.jpg">
    <button id="useSample" type="button" style="background:#444; margin-top:6px">Use sample photo</button>

    <h2>STEP 2 — Hair Type</h2>
    <label for="texture">Texture:</label>
    <select id="texture">
      <option value="straight">Straight</option>
      <option value="wavy">Wavy</option>
      <option value="curly">Curly</option>
    </select>

    <label for="density">Density:</label>
    <select id="density">
      <option value="thin">Thin</option>
      <option value="medium">Medium</option>
      <option value="thick">Thick</option>
    </select>

    <label for="issues">Issues:</label>
    <select id="issues">
      <option value="hairfall">Hair fall</option>
      <option value="frizz">Frizz</option>
      <option value="oily">Oily scalp</option>
      <option value="none">None</option>
    </select>

    <label for="behavior">Hair behavior:</label>
    <select id="behavior">
      <option value="fallflat">Falls flat</option>
      <option value="puffy">Gets puffy</option>
      <option value="stands">Stands up naturally</option>
    </select>

    <h2>STEP 3 — Goal</h2>
    <label for="goal">Main styling goal:</label>
    <select id="goal">
      <option value="hide">Hide hair fall</option>
      <option value="sharp">Look sharper</option>
      <option value="younger">Look younger</option>
      <option value="volume">Add volume</option>
    </select>

    <button id="generateBtn">Get Recommendations</button>

    <div id="result" class="result-box" aria-live="polite"></div>
  </div>

  <script>
    // --- Photo preview / sample ---
    const photoUpload = document.getElementById('photoUpload');
    const photoPreview = document.getElementById('photoPreview');
    const samplePath = document.getElementById('samplePath').value;

    photoUpload.addEventListener('change', (e) => {
      const file = e.target.files && e.target.files[0];
      if (!file) { photoPreview.style.display = 'none'; photoPreview.src = ''; return; }
      const url = URL.createObjectURL(file);
      photoPreview.src = url;
      photoPreview.style.display = 'block';
    });

    document.getElementById('useSample').addEventListener('click', () => {
      if (samplePath) {
        photoPreview.src = samplePath;
        photoPreview.style.display = 'block';
      }
    });

    // --- Main logic ---
    document.getElementById('generateBtn').addEventListener('click', generateResult);

    function generateResult() {
      try {
        const gender = document.getElementById('gender').value;
        const faceShape = document.getElementById('faceShape').value;
        const texture = document.getElementById('texture').value;
        const density = document.getElementById('density').value;
        const issues = document.getElementById('issues').value;
        const behavior = document.getElementById('behavior').value;
        const goal = document.getElementById('goal').value;

        const resultBox = document.getElementById('result');
        let faceLabel = faceShape.charAt(0).toUpperCase() + faceShape.slice(1);

        // base header
        let recommendations = `\n          <h3>✔ Face Shape: ${faceLabel}</h3>\n          <h3>✔ Hair Type: ${texture}, ${density}, ${behavior}</h3>\n          <h2>Recommended Hairstyles</h2>\n`;

        // gender-specific blocks
        if (gender === 'female') {
          recommendations += `\n            <b>Professional / Work</b>\n            <ul>\n              <li>Layered Lob — frames the face</li>\n              <li>Low Textured Ponytail — clean look</li>\n              <li>Soft Layers — hides thinning</li>\n              <li>Side Part with Curtain Bangs — adds volume</li>\n            </ul>\n\n            <b>College / University</b>\n            <ul>\n              <li>Messy Curtain Bangs — hides hairline</li>\n              <li>Medium Shag — movement + volume</li>\n              <li>Textured Lob — full look</li>\n              <li>Half-Up Messy Bun — casual & easy</li>\n            </ul>\n\n            <b>School / Teen</b>\n            <ul>\n              <li>Short Layered Bob — youthful</li>\n              <li>Soft Curtain Bangs — concealing</li>\n              <li>Low Ponytail with Volume — simple</li>\n              <li>Pixie (textured) — density effect</li>\n            </ul>\n          `;
        } else { // male
          recommendations += `\n            <b>Professional / Work</b>\n            <ul>\n              <li>Textured Quiff — sharp look</li>\n              <li>Side Part + Low Taper — clean</li>\n              <li>Medium Crew Cut — hides thinning</li>\n              <li>Brushed-Up Top — adds height</li>\n            </ul>\n\n            <b>College / University</b>\n            <ul>\n              <li>Messy Fringe — hides hairline</li>\n              <li>Medium Crop — modern</li>\n              <li>Side Sweep — balanced</li>\n              <li>Korean Medium Shag — volume</li>\n            </ul>\n\n            <b>School / Teen</b>\n            <ul>\n              <li>Short Spiky Texture — lifts flat hair</li>\n              <li>Short Caesar — hides hairline</li>\n              <li>Soft Side Sweep — clean and simple</li>\n              <li>Light Brush-Up — sharp but school-friendly</li>\n            </ul>\n          `;
        }

        // notes
        let notesItems = [];
        if (issues === 'hairfall') notesItems.push('Choose textured cuts and avoid heavy products that weigh hair down.');
        if (behavior === 'fallflat') notesItems.push('Use light volumizing products and texture paste to lift the roots.');
        if (goal === 'hide') notesItems.push('Keep fringes or textured tops to conceal thinning hairline.');
        if (goal === 'sharp') notesItems.push('Maintain tapered sides and controlled height on top for a sharper silhouette.');

        let notes = '<h3>Notes</h3>';
        if (notesItems.length > 0) {
          notes += '<ul>' + notesItems.map(function(i){ return '<li>' + i + '</li>'; }).join('') + '</ul>';
        } else {
          notes += '<p>No specific notes. Your selections didn\'t trigger any warnings — try the recommended styles above.</p>';
        }

        resultBox.innerHTML = recommendations + notes;
        resultBox.style.display = 'block';
        resultBox.scrollIntoView({ behavior: 'smooth' });
      } catch (err) {
        console.error('generateResult error', err);
        alert('Sorry — an unexpected error occurred. Check console for details.');
      }
    }
  </script>
</body>
</html>

